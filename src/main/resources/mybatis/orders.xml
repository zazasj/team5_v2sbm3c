<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.mvc.recentrecom.RecentRecomDAOInter">

  <!-- 주문 정보 조회 -->
  <select id="getOrderInfo" resultType="map">
    <![CDATA[
      SELECT 
        o.OrderID,
        TO_CHAR(o.OrderDate, 'YYYY-MM-DD HH24:MI') AS FormattedOrderDate,
        o.memberno,
        m.Mname,
        o.ProductID,
        p.Price
      FROM Orders o
      JOIN Member m ON o.memberno = m.memberno
      JOIN Products p ON o.ProductID = p.ProductID
      WHERE o.OrderID = #{OrderID}
    ]]>
  </select>

</mapper>